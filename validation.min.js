/*https://github.com/im4aLL/form-validation*/
var Form=function(a,b,c){this.form=a,this.rulesObj=b,this.errorReplacement=void 0!==c&&c===!0?!0:!1};Form.prototype.validate=function(a){var b=this,c=this.rulesObj,d=this.form,e=this.errorReplacement;d.submit(function(){d.find(".is-error").removeClass("is-error").find(".hint").remove();var f=[],g=!1,h={};return $.each(c,function(a,c){var d=$("#"+a),i=!0;i=void 0!==c.customMethod&&null!=c.customMethod?c.customMethod.call(this,a):b.method(a,c),i===!1?(g=!0,f.push(a)):h[a]=d.val();var j=void 0!==c.errReplace&&null!=c.errReplace?!0:!1;j?c.errReplace.call(this,a):"",e!==!1||i||j!==!1||b.addError(a,c),d.blur(function(){b.method(a,c)===!0?b.removeError(a,c):b.addError(a,c)})}),"function"==typeof a&&a.call(this,{obj:d,isValid:!g,err:f,values:h}),!1})},Form.prototype.method=function(a,b){var c=$("#"+a),d=!0;if(void 0!==b.require&&$("#"+b.require.name).val()!=b.require.value)return!0;switch(b.type){case"email":var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;d=e.test(c.val());break;case"text":0==c.val().length&&(d=!1);break;case"array":d=!1,$('input[name="'+a+'[]"]').each(function(a,b){$(b).val().length>0&&(d=!0)})}return d},Form.prototype.addError=function(a,b){var c=$("#"+a),d=void 0!==b.errMsg?b.errMsg:"This field is required";c.parent().addClass("is-error").find(".hint").remove(),c.parent().append('<span class="hint"><i></i>'+d+"</span>")},Form.prototype.removeError=function(a){var c=$("#"+a);c.parent().removeClass("is-error").find(".hint").remove()};