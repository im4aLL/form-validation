/**
 * -------------------------------
 * jQuery form validation v2.0.0
 * -------------------------------
 * @description     A simple form validation plugin 3 KB
 * @demo            http://habibhadi.com/lab/form-validation/demo/
 * @author          Habib Hadi <me@habibhadi.com>
 */

!function(a,b,c,d){function g(b,c){this.element=b,this.options=a.extend({},f,c),this._defaults=f,this._name=e,this.form=a(this.element),this.rulesObj=this.options.rules,this.errorReplacement=this.options.errorReplacement,this.callback=this.options.onComplete,this.fieldValues={},this.init()}var e="validate",f={errorReplacement:!1,onComplete:null};g.prototype.init=function(){var b=this,c=this.rulesObj,e=this.form,f=this.errorReplacement,g=this.callback;e.submit(function(){e.find(".is-error").removeClass("is-error").find(".hint").remove();var h=[],i=!1;return a.each(c,function(c,e){var j,g=!0;if("radio"===e.type?j=a('input:radio[name="'+c+'"]'):"checkbox"===e.type?j=a('input[type="checkbox"][name="'+c+'"]'):(j=a("#"+c),0===j.length&&(j=a('input[name="'+c+'"]'))),e.customMethod!==d&&null!==e.customMethod?(g=e.customMethod.call(this,{id:c,field:e,obj:j}),b.fieldValues[c]="customMethod"):b.method(c,e,j,function(a){g=a.validationResult,b.fieldValues[c]=a.values}),g===!1){i=!0;var k={};k.id=c,k.errMsg=e.errMsg!==d?e.errMsg:"",h.push(k)}var l=e.errReplace!==d&&null!==e.errReplace?!0:!1;l===!0&&e.errReplace.call(this,{id:c,field:e,obj:j,isValidField:g}),f!==!1||g||l!==!1||b.addError(c,e,j),f===!1&&l===!1&&j.blur(function(){b.method(c,e,j,function(a){a.validationResult===!0?b.removeError(c,e,j):b.addError(c,e,j)})})}),"function"==typeof g&&g.call(this,{obj:e,isValid:!i,err:h,values:b.fieldValues}),i===!0?!1:void 0})},g.prototype.method=function(b,c,e,f){var j,g=e,h=!1,i=this;if(c.require!==d&&i.fieldValues[c.require.name]!=c.require.value)return void("function"==typeof f&&f.call(this,{validationResult:!0,values:""}));switch(c.type){case"email":var k=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;h=k.test(g.val()),j=g.val();break;case"text":g.val()!==d&&g.val().length>0&&(h=!0),j=g.val();break;case"checkbox":case"radio":g.length>0?(j=[],g.each(function(b,c){a(c).is(":checked")&&(h=!0),j.push(a(c).attr("value"))})):(a(c).is(":checked")&&(h=!0),j=a(c).attr("value"));break;case"array":j=[],a('input[name="'+b+'[]"]').each(function(b,c){"checkbox"===a(c).attr("type")?a(c).is(":checked")&&(h=!0):a(c).val().length>0&&(h=!0),j.push(a(c).attr("value"))})}"function"==typeof f&&f.call(this,{validationResult:h,values:j})},g.prototype.addError=function(a,b,c){var e=c,f=b.errMsg!==d?b.errMsg:"";e.parent().addClass("is-error").find(".hint").remove(),f.length>0&&e.parent().append('<span class="hint">'+f+"</span>")},g.prototype.removeError=function(a,b,c){var d=c;d.parent().removeClass("is-error").find(".hint").remove()},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new g(this,b))})}}(jQuery,window,document);
