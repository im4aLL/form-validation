/**
 * -------------------------------
 * jQuery form validation v2.0.0
 * -------------------------------
 * @description     A simple form validation plugin 3 KB
 * @demo            http://habibhadi.com/lab/form-validation/demo/
 * @author          Habib Hadi <me@habibhadi.com>
 */

!function(e,t,i,r){function a(t,i){this.element=t,this.options=e.extend({},o,i),this._defaults=o,this._name=n,this.form=e(this.element),this.rulesObj=this.options.rules,this.errorReplacement=this.options.errorReplacement,this.callback=this.options.onComplete,this.fieldValues={},this.ajaxSubmit=this.options.ajaxSubmit,this.init()}var n="validate",o={errorReplacement:!1,onComplete:null,ajaxSubmit:!1};a.prototype.init=function(){var t=this,i=this.rulesObj,a=this.form,n=this.errorReplacement,o=this.callback;a.submit(function(){a.find(".is-error").removeClass("is-error").find(".hint").remove();var s=[],l=!1;return e.each(i,function(i,a){var o,u=!0;if("radio"===a.type?o=e('input:radio[name="'+i+'"]'):"checkbox"===a.type?o=e('input[type="checkbox"][name="'+i+'"]'):(o=e("#"+i),0===o.length&&(o=e('input[name="'+i+'"]'))),a.customMethod!==r&&null!==a.customMethod?(u=a.customMethod.call(this,{id:i,field:a,obj:o}),t.fieldValues[i]="customMethod"):t.method(i,a,o,function(e){u=e.validationResult,t.fieldValues[i]=e.values}),u===!1){l=!0;var c={};c.id=i,c.errMsg=a.errMsg!==r?a.errMsg:"",s.push(c)}var h=a.errReplace!==r&&null!==a.errReplace?!0:!1;h===!0&&a.errReplace.call(this,{id:i,field:a,obj:o,isValidField:u}),n!==!1||u||h!==!1||t.addError(i,a,o),n===!1&&h===!1&&o.blur(function(){t.method(i,a,o,function(e){e.validationResult===!0?t.removeError(i,a,o):t.addError(i,a,o)})})}),"function"==typeof o&&o.call(this,{obj:a,isValid:!l,err:s,values:t.fieldValues}),l===!0||t.ajaxSubmit===!0?!1:void 0})},a.prototype.method=function(t,i,a,n){var o,s=a,l=!1,u=this,c=e.trim(s.val());if(i.require!==r&&u.fieldValues[i.require.name]!=i.require.value)return void("function"==typeof n&&n.call(this,{validationResult:!0,values:""}));switch(i.type){case"email":var h=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;l=h.test(c),o=s.val();break;case"text":c!==r&&c.length>0&&(l=!0),o=c;break;case"checkbox":case"radio":s.length>0?(o=[],s.each(function(t,i){e(i).is(":checked")&&(l=!0),o.push(e(i).attr("value"))})):(e(i).is(":checked")&&(l=!0),o=e(i).attr("value"));break;case"array":o=[],e('input[name="'+t+'[]"]').each(function(t,i){"checkbox"===e(i).attr("type")?e(i).is(":checked")&&(l=!0):e(i).val().length>0&&(l=!0),o.push(e(i).attr("value"))})}"function"==typeof n&&n.call(this,{validationResult:l,values:o})},a.prototype.addError=function(e,t,i){var a=i,n=t.errMsg!==r?t.errMsg:"";a.parent().addClass("is-error").find(".hint").remove(),n.length>0&&a.parent().append('<span class="hint">'+n+"</span>")},a.prototype.removeError=function(e,t,i){var r=i;r.parent().removeClass("is-error").find(".hint").remove()},e.fn[n]=function(t){return this.each(function(){e.data(this,"plugin_"+n)||e.data(this,"plugin_"+n,new a(this,t))})}}(jQuery,window,document);
